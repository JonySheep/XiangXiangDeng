# 进销存系统用例描述文档 

> 作者：杨郁芩、冉杰文、邱浩旻、尚柯宇



## 目录

[TOC]



## 更新历史

| 修改人员            | 日期         | 变更原因                                     | 版本号    |
| --------------- | ---------- | ---------------------------------------- | ------ |
| 杨郁芩、冉杰文、邱浩旻、尚柯宇 | 2017-9-25  | 最初草稿                                     | v0.9   |
| 杨郁芩             | 2017-9-26  | 评审后的正式版                                  | v1.0   |
| 尚柯宇             | 2017-9-27  | 客户管理用例的小修改                               | v1.0.1 |
| 杨郁芩             | 2017-9-28  | 管理系统账户用例中增加`新增账户`场景                      | v1.0.2 |
| 邱浩旻             | 2017-9-29  | 更新查看经营历程、经营情况的交互；优化了红冲并复制的表述；修改该写“客户”但是写了“用户的地方” | v1.0.3 |
| 尚柯宇             | 2017-10-4  | 更新商品分类管理、商品管理、库存变动查看的触发条件和交互序列；更新库存盘点、制定库存报溢/报损单的触发条件 | v1.0.4 |
| 杨郁芩             | 2017-10-28 | 修改用例18、19、20，补充扩展流程的内容                   | v1.0.5 |
| 冉杰文             | 2017-10-22 | 新增目录；制定销售单据的小修改                          | v1.0.6 |
| 邱浩旻             | 2017-10-26 | 更新期初建账，更新制定现金费用单的笔误                      | v1.0.7 |
| 冉杰文             | 2017-11-01 | 删除了进货销售类型单据的仓库类别选定需求；客户管理用例的小修改          | v1.0.8 |
| 冉杰文             | 2017-11-05 | 完善了用例6~10的扩展流程                           | v1.0.9 |

------



## 引言

### 目的

本文档描述了进销存系统的用户需求。

### 阅读说明

文档内用例的描述使用了附表1的模版。

### 参考文献

暂无



## 用例列表

|  参与者   | 用例                                  |
| :----: | ----------------------------------- |
| 库存管理人员 | 商品分类管理，商品管理，库存变动查看，库存盘点，制定库存报溢/报损单  |
|  销售人员  | 客户管理，制定销售单，制定销售退货单                  |
|  进货人员  | 客户管理，制定进货单，制定进货退货单                  |
|  财务人员  | 账户管理，制定单据，查看销售明细，查看经营历程，查看经营情况，期初建账 |
|  总经理   | 查看销售明细，查看经营历程，查看经营情况，审批单据，制定促销策略    |
|  管理员   | 管理系统账户                              |

---

### 用例1  商品分类管理 ###

- **ID**：1
- **名称**：商品分类管理
- **创建者**：尚柯宇
- **创建日期**：2017.9.15
- **最后一次更新者**：尚柯宇
- **最后更新日期**：2017.10.3
- **参与者**：库存管理人员，目的是根据商品调整分类，以便于查找商品
- **触发条件**：无
- **前置条件**：库存管理人员已经被识别和授权
- **后置条件**：系统更新商品分类信息
- **优先级**：高
- **正常流程**：

  1. **增加商品分类**
    1. 库存管理人员选择空商品分类或仅包含其他商品分类的分类作为新商品分类的所属分类
    2. 系统显示所选分类下的商品分类列表（可以为空）
    3. 库存管理人员选择新建商品分类
    4. 系统自动生成新商品分类的编号，并等待输入商品分类名称
    5. 库存管理人员输入新商品分类名称并确认
    6. 系统生成新商品分类并显示新的商品分类列表

  2. **删除商品分类**
    1. 库存管理人员选择需要删除的空商品分类
    2. 系统显示所选商品分类信息，包括编号、名称
    3. 库存管理人员选择删除
    4. 系统向库存管理人员提出确认
    5. 库存管理人员确认删除
    6. 系统移除所选商品分类并显示新的商品分类列表

  3. **修改商品分类名称**
    1. 库存管理人员选择需要修改名称的商品分类
    2. 系统显示所选商品分类信息，包括编号、名称
    3. 库存管理人员选择修改
    4. 系统等待输入新分类名称
    5. 库存管理人员输入新的分类名称并确认
    6. 系统记录新分类名称并显示新的商品分类列表

  4. **移动商品分类**
    1. 库存管理人员选择需要移动的商品分类
    2. 系统显示所选商品分类信息，包括编号、名称
    3. 库存管理人员选择移动
    4. 系统显示商品分类列表（不包含所选商品分类及其子分类）
    5. 库存管理人员选择空商品分类或仅包含商品分类的分类作为新的所属分类并确认
    6. 系统记录新的所属分类并显示新的商品分类列表

- **扩展流程**：

  1. **增加商品分类**
    1a. 库存管理人员选择仅包含商品的分类作为新商品分类的所属分类
    1. 系统显示所选分类下的商品列表（不为空）
    2. 库存管理人员选择新建商品分类
    3. 系统提示商品分类下存在商品并拒绝新建商品分类

    5a. 库存管理人员退出或选择取消新建分类
    1. 系统取消新建商品分类流程

    5b. 库存管理人员输入名称为空
    1. 系统提示商品分类名称不能为空并拒绝确认新建商品分类

  2. **删除商品分类**
    1a. 库存管理人员选择非空商品分类
    1. 系统显示所选商品分类信息，包括编号、名称
    2. 库存管理人员选择删除
    3. 系统提示非空商品分类不能删除并拒绝删除

    5a. 库存管理人员取消删除商品分类
    1. 系统取消删除商品分类流程

  3. **修改商品分类**
    5a. 库存管理人员退出或选择取消修改商品分类名称
    1. 系统取消修改商品分类名称流程

    5b. 库存管理人员输入新名称为空
    1. 系统提示商品分类名称不能为空并拒绝确认

  4. **移动商品分类**
    5a. 库存管理人员选择仅包含商品的分类作为新的所属分类
    1. 系统提示商品分类下存在商品并拒绝移动商品分类

- **特殊需求**：

  1. 系统内部最初包含一个商品分类，编号为0000，名称为"全部商品"。
  2. 一个商品分类不能同时包含商品和商品分类。

---

### 用例2  商品管理 ###

- **ID**：2
- **名称**：商品管理
- **创建者**：尚柯宇
- **创建日期**：2017.9.18
- **最后一次更新者**：尚柯宇
- **最后更新日期**：2017.10.3
- **参与者**：库存管理人员，目的是根据公司状况调整商品
- **触发条件**：无
- **前置条件**：库存管理人员已经被识别和授权
- **后置条件**：系统更新商品信息
- **优先级**：高

- **正常流程**：

  1. **增加商品**
    1. 库存管理人员选择空商品分类或仅包含其他商品的分类作为新商品的所属分类
    2. 系统显示所选分类下的商品列表（可以为空）
    3. 库存管理人员选择新建商品
    4. 系统自动生成新商品的编号，并等待输入商品信息
    5. 库存管理人员输入商品信息（包括名称，型号，警戒数量，进价，零售价）并确认
    6. 系统生成新商品并显示新的商品列表

  2. **删除商品**
    1. 库存管理人员需要删除的库存数量为0的商品
    2. 系统显示所选商品信息，包括编号、名称、型号、库存数量、警戒数量、进价、零售价、最近进价、最近零售价
    3. 库存管理人员选择删除
    4. 系统向库存管理人员提出确认
    5. 库存管理人员确认删除
    6. 系统移除所选商品并显示新的商品列表

  3. **修改商品**
    1. 库存管理人员选择需要修改的商品
    2. 系统显示所选商品信息，包括编号、名称、型号、库存数量、警戒数量、进价、零售价、最近进价、最近零售价
    3. 库存管理人员选择修改
    4. 系统等待修改商品信息
    5. 库存管理人员修改商品信息，可修改的商品信息包括名称、型号、警戒数量、进价、零售价并确认
    6. 系统记录修改后的商品信息并显示新的商品列表

  4. **移动商品**
    1. 库存管理人员选择需要移动的商品
    2. 系统显示所选商品信息，包括编号、名称、型号、库存数量、警戒数量、进价、零售价、最近进价、最近零售价
    3. 库存管理人员选择移动
    4. 系统显示商品分类列表
    5. 库存管理人员选择空商品分类或仅包含商品的分类作为新的所属分类并确认
    6. 系统记录新的所属分类并显示新的商品列表

  5. **查询商品**
    1. 库存管理人员进入作为查询范围的商品分类
    2. 系统显示所选商品分类下的商品列表或商品分类列表
    3. 库存管理人员输入查询关键字/商品编号并选择查询
    4. 系统显示在查询范围内根据关键字/商品编号查询得到的商品列表（可能为空）
    5. 库存管理人员选择目标商品
    6. 系统显示所选商品信息，包括编号、名称、型号、库存数量、警戒数量、进价、零售价、最近进价、最近零售价、所属商品分类
    7. 库存管理人员选择前往所属分类
    8. 系统显示目标商品所属商品分类的商品列表并选择目标商品

- **扩展流程**：

  1. **增加商品**
    1a. 库存管理人员选择仅包含商品分类的分类作为新商品的所属分类
    1. 系统显示所选择分类下的商品分类列表（不为空）
    2. 库存管理人员选择新建商品
    3. 系统提示分类下存在商品分类并拒绝新建商品

    5a. 库存管理人员退出或选择取消新建分类
    1. 系统取消新建商品分类流程

    5b. 库存管理人员输入名称为空
    1. 系统提示商品名称不能为空并拒绝确认新建商品

    5c. 库存管理人员输入警戒数量为负
    1. 系统提示商品警戒应不小于0并拒绝确认新建商品

    5d. 库存管理人员输入进价为负
    1. 系统提示商品进价应不小于0并拒绝确认新建商品

    5e. 库存管理人员输入零售价为负
    1. 系统提示商品零售价应不小于0并拒绝确认新建商品

  2. **删除商品**
    1a. 库存管理人员选择库存数量不为0的商品
    1. 系统显示所选商品信息，包括编号、名称、型号、库存数量、警戒数量、进价、零售价、最近进价、最近零售价
    2. 库存管理人员选择删除
    3. 系统提示商品库存数量不为0，不能删除并拒绝删除

    5a. 库存管理人员取消删除商品
    1. 系统取消删除商品流程

  3. **修改商品**
    5a. 库存管理人员退出或选择取消修改商品
    1. 系统取消修改商品名称流程

    5b. 库存管理人员输入名称为空
    1. 系统提示商品名称不能为空并拒绝确认修改商品

    5c. 库存管理人员输入警戒数量为负
    1. 系统提示商品警戒应不小于0并拒绝确认修改商品

    5d. 库存管理人员输入进价为负
    1. 系统提示商品进价应不小于0并拒绝确认修改商品

    5e. 库存管理人员输入零售价为负
    1. 系统提示商品零售价应不小于0并拒绝确认修改商品

  4. **移动商品**
    5a. 库存管理人员选择仅包含商品分类的分类作为新的所属分类
    1. 系统提示分类下存在商品分类并拒绝移动商品

- **特殊需求**：无

---

### 用例3  库存变动查看 ###

- **ID**：3
- **名称**：库存变动查看
- **创建者**：尚柯宇
- **创建日期**：2017.9.21
- **最后一次更新者**：尚柯宇
- **最后更新日期**：2017.10.4
- **参与者**：库存管理人员，目的是了解并掌握一定时间段内库存变动情况
- **触发条件**：无
- **前置条件**：库存管理人员已经被识别和授权
- **后置条件**：无
- **优先级**：高
- **正常流程**：

  1. 库存管理人员输入查看时间段的起始时间和结束时间
  2. 系统显示此时间段内的库存变动信息，包括变动列表和总计、列表包括发生出/入库的每种商品信息（包括编号、名称、型号）、该商品的总出库/入库数量以及变动数量合计、该商品的销售/进货总金额以及变动金额合计、总计包括所有商品的进货/销售总金额以及变动金额合计

- **扩展流程**：

  1a. 库存管理人员输入的结束时间早于起始时间
  1. 系统提示结束时间早于起始时间并拒绝输入的结束时间

- **特殊需求**：无

---

### 用例4  库存盘点 ###

- **ID**：4
- **名称**：库存盘点
- **创建者**：尚柯宇
- **创建日期**：2017.9.23
- **最后一次更新者**：尚柯宇
- **最后更新日期**：2017.10.4
- **参与者**：库存管理人员，目的是查看并导出当前库存情况
- **触发条件**：无
- **前置条件**：库存管理人员已经被识别和授权
- **后置条件**：无
- **优先级**：高
- **正常流程**：

  1. 库存管理人员选择库存盘点
  2. 系统显示库存商品列表，列表条目包括行号和商品信息（包括名称、型号、库存数量、库存均价）
  3. 库存管理人员选择导出Excel
  4. 系统等待库存管理人员输入导出位置
  5. 库存管理人员输入导出位置
  6. 系统导出Excel到指定位置并提示完成

- **扩展流程**：

  4-5a. 库存管理人员取消导出
  1. 系统取消导出Excel流程

- **特殊需求**：无

---

### 用例5  制定库存报溢/报损单 ###

- **ID**：5
- **名称**：制定库存报溢/报损单
- **创建者**：尚柯宇
- **创建日期**：2017.9.21
- **最后一次更新者**：尚柯宇
- **最后更新日期**：2017.10.4
- **参与者**：库存管理人员，目的是保持现实库存与系统库存一致
- **触发条件**：现实库存与系统库存不一致
- **前置条件**：库存管理员已经被识别和授权
- **后置条件**：系统记录并提交单据
- **优先级**：高

- **正常流程**：

  1. 库存管理人员选择制定库存报溢/报损单
  2. 系统显示报溢/报损单草稿列表
  3. 库存管理人员新建库存报溢/报损单
  4. 系统自动生成单据编号并等待输入库存报溢/报损信息
  5. 库存管理人员输入商品名称
  6. 系统显示商品信息，包括编号、名称、型号、系统库存数量
  7. 库存管理人员输入仓库、库存报溢/报损数量
  8. 系统自动计算并显示报溢/报损后的库存数量
  9. 库存管理人员选择提交
  10. 系统记录并提交单据
    库存管理人员重复2-10步，直到完成所有库存报溢/报损单的处理

- **扩展流程**：

  3a. 库存管理人员选择已存在的库存报溢/报损单
  1. 系统显示已编辑的库存报溢/报损信息
  2. 返回正常流程第5步

  5-9a. 库存管理人员选择删除库存报溢/报损单
  1. 系统向库存管理人员提出确认
  2. 库存管理人员确认
    5-9a.2a. 库存管理人员取消删除库存报溢/报损单
    1. 系统取消删除库存报溢/报损单流程
    2. 返回正常流程第5步
  3. 系统删除库存报溢/报损单并返回正常流程第2步

  7a. 库存管理人员输入的库存报溢/报损数量小于0
  1. 系统提示报溢/报损数量应不小于0并拒绝输入的库存报溢/报损数量

  4-9a. 库存管理人员退出编辑当前报溢/报损单
  1. 系统自动保存当前报溢/报损单为草稿，更新库存报溢/报损单草稿列表，并返回正常流程第2步

- **特殊需求**：无

---

### 用例6  客户管理

- **ID**：6

- **名称**： 客户管理

- **创建者**：冉杰文

- **创建日期**：2017-9-10

- **最后一次更新者**：冉杰文

- **最后更新日期**：2017-9-30

- **参与者**：进货销售人员，目标是对客户进行准确，有序的管理，包括客户信息的增加，删除，改变，查找

- **触发条件**： 客户数目或信息发生变动

- **前置条件**：进货销售人员已经被识别并授权

- **后置条件**：系统存储增删改查后的客户信息

- **优先级**：高

- **正常流程**：

  1. **增加客户**

     1. 进货销售人员向系统提出新增客户的请求

     2. 系统提示进货销售人员填写客户信息

     3. 进货销售人员输入各项信息，包括客户的姓名，类别（进货商或者销售商），级别（一级普通客户，五级VIP客户），电话，地址，邮编，电子邮箱，应收额度（应收额度为系统默认输入），应收，应付，默认业务员

     4. 进货销售人员请求保存新增客户信息

     5. 系统显示客户添加成功并返回空闲状态

        重复1~5步直到添加完所有要添加的客户

  2. **删除客户信息**
     1. 进货销售人员选定客户并向系统提出删除客户信息的请求

     2. 系统显示删除成功并返回空闲状态

        重复1~2步直到完成所有的删除操作

  3. **修改客户属性**

     1. 进货销售人员选定客户并向系统提出修改客户属性的请求

     2. 系统显示可编辑状态的客户信息

     3. 进货销售人员修改客户属性

     4. 进货销售人员请求保存修改

     5. 系统显示客户信息修改成功并返回空闲状态

        重复1~5步直到完成所有的修改操作

  4. **查询客户信息**

     1. 系统显示默认客户列表

     2. 销售人员输入客户ID或关键字并请求查询客户信息

     3. 系统显示符合筛选条件的客户列表

     4. 进货销售人员选定客户

     5. 系统显示客户信息

        重复2~5步直到查询结束

- **扩展流程**：

  1. **增加客户**
    5a. 客户信息未填写完全

    1. 系统提示进货销售人员补全信息并返回正常流程3

  2. **删除客户信息**

    2a. 客户应收应付不为0

    1. 系统显示该客户应收应付不为0并返回正常流程步骤1

  3. **修改客户信息**

    4a. 进货销售人员未保存客户信息直接退出编辑界面

    1. 系统询问进货销售人员是否保存已修改信息

    2. 进货销售人员确认保存

       2a. 进货销售人员取消保存修改信息

       1. 系统将客户信息保存为初始状态

    3. 系统保存进货销售人员修改信息

    5a. 客户信息尚未补全

    1. 系统提示进货销售人员补全信息并返回正常流程3

  4. **查询客户信息**

    3a. ID或输入关键字对应的客户不存在

    1. 系统显示客户不存在并返回查询操作的步骤2。

- **特殊需求**：无

---

### 用例7  制定进货单

- **ID**：7

- **名称**： 制定进货单

- **创建者**：冉杰文

- **创建日期**：2017-09-12

- **最后一次更新者**：冉杰文

- **最后更新日期**：2017-09-30

- **参与者**：进货人员，目标是准确管理进货并保留进货记录

- **触发条件**：进货人员与供应商确定订单；总经理审核订货单未通过

- **前置条件**：进货人员已经被识别并授权

- **后置条件**：系统存储该进货单据并将该单据设置为提交状态

- **优先级**：高

- **正常流程**：

  1. **制定进货单**

     1. 进货人员向系统提出制定进货单的请求。

     2. 系统提示进货人员填写相关信息

     3. 进货人员填写供应商，操作员（操作员为系统默认输入）

     4. 进货人员请求添加商品

     5. 系统显示商品选择列表

     6. 进货人员选择商品，确认商品价格，填写数量，写明备注

     7. 系统显示商品型号和金额

        重复4~7步直到添加完所有要添加的商品

     8. 进货人员填写进货单备注

     9. 系统保存进货单备注信息

     10. 进货人员提交进货单

     11. 系统显示进货单制定成功并将进货单设置为提交状态

  2. **修改草稿进货单**

     1. 进货人员在草稿进货单列表里选定要修改的草稿状态进货单
     2. 系统显示草稿进货单信息
     3. 进货人员向系统提出修改草稿进货单的请求
     4. 系统显示可编辑状态的进货单信息
     5. 进货人员修改进货单信息
     6. 进货人员确认修改完成并提交进货单
     7. 系统显示进货单提交成功并将进货单设置为提交状态

  3. **删除草稿进货单**

     1. 进货人员在草稿进货单列表里面选定要删除的草稿状态进货单
     2. 系统标记选定进货单
     3. 进货人员确认删除草稿进货单
     4. 系统删除所保留的草稿进货单信息并显示删除成功

- **扩展流程**：

  1. **制定进货单**

    9a. 确认提交进货单时发现有信息未填写

    1. 系统提示进货人员填写完所有信息并返回编辑界面

    9b. 确认提交前退出编辑

    1. 系统保存已编辑单据并将其设置为草稿状态

    9c. 确认提交进货单时发现信息填写有误，具体包括商品价格小于等于0，商品数量不为整数

    1. 系统提示相应的信息填写错误问题并返回正常流程6

  2. **修改草稿进货单**

    6a. 进货人员未做任何修改直接确认提交

    1. 系统提示进货人员进货单未作修改。

    6b. 进货人员未提交直接退出编辑界面

    1. 系统询问进货人员是否保存已修改信息

    2.  进货人员确认保存

       2a. 进货人员取消保存修改信息

       1. 系统将草稿进货单保存为初始状态

    3. 系统保存进货人员修改信息


- **特殊需求**：

  1. 单据编号格式为：`JHD-yyyyMMdd-xxxxx`，后五位每天从 1 开始编号，所以一天最多可以生成 99999 条单子。

---

### 用例8  制定进货退货单

- **ID**：8

- **名称**： 制定进货退货单

- **创建者**：冉杰文

- **创建日期**：2017-09-13

- **最后一次更新者**：冉杰文

- **最后更新日期**：2017-10-01

- **参与者**：进货人员，目标是准确的记录进货退货信息并保留进货退货记录；

- **触发条件**：公司与供应商达成退货协议；总经理审核进货退货单未通过

- **前置条件**：进货人员已被识别并授权

- **后置条件**：系统储存该进货退货单并将进货退货单设置为提交状态

- **优先级**：高

- **正常流程**

  1. **制定进货退货单**

     1. 进货人员向系统提出制定进货退货单的请求。

     2. 系统提示进货人员填写相关信息

     3. 进货人员输入供应商，操作员（操作员为系统默认输入）

     4. 进货人员请求添加商品

     5. 系统显示商品选择列表

     6. 进货人员选择待退商品，确认商品单价，填写数量和备注

     7. 系统显示商品型号和金额

        重复4~7步直到添加完所有待退的商品。

     8. 进货人员填写进货退货单备注

     9. 进货人员确认信息填写完成并提交进货退货单

     10. 系统提示提交成功并将进货退货单设置为提交状态

  2. **修改草稿进货退货单**

     1. 进货人员在草稿进货退货单列表里选定要修改的草稿状态进货退货单
     2. 系统显示草稿进货退货单信息
     3. 进货人员向系统提出修改草稿进货退货单的请求
     4. 系统显示可编辑状态的进货退货单信息
     5. 进货人员修改进货退货单信息
     6. 进货人员确认修改完成并提交进货退货单
     7. 系统显示进货退货单提交成功并将进货退货单设置为提交状态

  3. **删除草稿进货退货单**

     1. 进货人员在草稿进货退货单列表里面选定要删除的草稿状态进货退货单
     2. 系统标记选定进货退货单
     3. 进货人员确认删除草稿进货退货单
     4. 系统删除所保留的草稿进货退货单信息并显示删除成功

- **扩展流程**：

  1. **制定进货退货单**

     8a. 确认提交进货退货单时发现有信息未填写

     1. 系统返回编辑界面并提示进货人员填写完所有待填写的信息。

     8b. 确认信息前退出编辑

     1. 系统保存已编辑单据并将其设置为草稿状态

     8c. 确认提交进货单时发现信息填写有误，具体包括商品价格小于等于0，商品数量不为整数

     1. 系统提示相应的信息填写错误问题并返回正常流程6

  2. **修改草稿进货退货单**

     6a. 进货人员未做任何修改直接确认提交

     1. 系统提示进货人员进货退货单未作修改。

     6b. 进货人员未提交直接退出编辑界面

     1. 系统询问进货人员是否保存已修改信息

     2.  进货人员确认保存

        2a. 进货人员取消保存修改信息

        1. 系统将草稿进货退货单保存为初始状态

     3. 系统保存进货人员修改信息

- **特殊需求**：

  1. 单据编号格式为：`JHTHD-yyyyMMdd-xxxxx`，后五位每天从 1 开始编号，所以一天最多可以生成 99999 条单子。

---

### 用例9  制定销售单

- **ID**：9

- **名称**： 制定销售单

- **创建者**：冉杰文

- **创建日期**：2017-09-13

- **最后一次更新者**：冉杰文

- **最后更新日期**：2017-10-01

- **参与者**：进货人员、销售人员，目标是准确有序的管理已销售商品并保留销售记录

- **触发条件**：客户完成订单；总经理审核销售单未通过

- **前置条件**：销售人员已被识别并授权

- **后置条件**：系统存储该销售单据并将销售单设置为提交状态

- **优先级**：高

- **正常流程**：

  1. **制定销售单**

     1. 销售人员向系统提出制定销售单的请求
     2. 系统提示销售人员填写相关信息
     3. 销售人员选择客户（销售商），确认业务员
     4. 系统默认填写操作员名称
     5. 销售人员请求添加商品
     6. 系统显示商品列表
     7. 销售人员选择商品，输入数量，确认单价，填好备注
     8. 系统显示商品型号和金额
        重复5~8步直到添加完所有销售商品

     9. 销售人员输入折让前总额，折让 ，使用代金券金额 ，折让后总额，备注
     10. 销售人员核实信息后确认提交
     11. 系统显示销售单提交成功并将该销售单设置为提交状态

  2. **修改草稿销售单**

     1. 销售人员在草稿销售单列表里选定要修改的草稿状态销售单
     2. 系统显示草稿销售单信息
     3. 销售人员向系统提出修改草稿销售单的请求
     4. 系统显示可编辑状态的销售单信息
     5. 销售人员修改销售单信息
     6. 销售人员确认修改完成并提交销售单
     7. 系统显示销售单提交成功并将销售单设置为提交状态

  3. **删除草稿销售单**

     1. 销售人员在草稿销售单列表里面选定要删除的草稿状态销售单
     2. 系统标记选定销售单
     3. 销售人员确认删除草稿销售单
     4. 系统删除所保留的草稿销售单信息并显示删除成功

- **扩展流程**：

  1. **制定销售单**

       9a. 本次销售符合销售策略规则

     2. 系统自动生成增送列表并返回正常流程10

     10a.确认提交销售单时发现有信息未填写

        1. 系统返回编辑界面并提示销售人员填写完所有待填写的信息

     10b. 确认信息前退出编辑

        1. 系统保存已编辑单据并将其设置为草稿状态

     10c. 确认提交进货单时发现信息填写有误，具体包括商品价格小于等于0，商品数量不为整数

     1. 系统提示相应的信息填写错误问题并返回正常流程7

  2. **修改草稿销售单**

     6a. 销售人员未做任何修改直接确认提交

     1. 系统提示销售人员销售单未作修改

     6b. 销售人员未提交直接退出编辑界面

     1. 系统询问销售人员是否保存已修改信息

     2.  销售人员确认保存

        2a. 销售人员取消保存修改信息

        1. 系统将草稿销售单保存为初始状态

     3. 系统保存销售人员修改信息

- **特殊需求**：

  1. 单据编号格式为`XSD-yyyyMMdd-xxxxx`。

---

### 用例10  制定销售退货单

- **ID**：10

- **名称**： 制定销售退货单

- **创建者**：冉杰文

- **创建日期**：2017-09-13

- **最后一次更新者**：冉杰文

- **最后更新日期**：2017-10-01

- **参与者**：销售人员，目的是准确管理销售退货信息并保留记录

- **触发条件**：销售人员与客户达成销售退货协议；总经理审核销售单未通过

- **前置条件**：销售人员已被识别并授权

- **后置条件**：系统存储该销售退货单据并将其设置为提交状态

- **优先级**：高

- **正常流程**：

  1. **制定销售退货单**

     1. 销售人员向系统提出制定销售退货单的请求。

     2. 系统提示销售人员填写相关信息

     3. 销售人员选择客户（销售商），确认业务员

     4. 系统默认填写操作员名称

     5. 销售人员请求添加商品

     6. 系统显示商品列表

     7. 销售人员选择商品，输入数量，确认单价，填好备注

     8. 系统显示商品型号和金额

        重复5~8步直到添加完所有销售商品

     9. 销售人员填写备注

     10. 销售人员核实信息后确认提交

     11. 系统显示销售退货单提交成功并将该销售退货单设置为提交状态

  2. **修改草稿销售退货单**

     1. 销售人员在草稿销售退货单列表里选定要修改的草稿状态销售退货单
     2. 系统显示草稿销售退货单信息
     3. 销售人员向系统提出修改草稿销售退货单的请求
     4. 系统显示可编辑状态的销售退货单信息
     5. 销售人员修改销售退货单信息
     6. 销售人员确认修改完成并提交销售退货单
     7. 系统显示销售退货单提交成功并将销售退货单设置为提交状态

  3. **删除草稿销售退货单**

     1. 销售人员在草稿销售退货单列表里面选定要删除的草稿状态销售退货单
     2. 系统标记选定销售退货单
     3. 销售人员确认删除草稿销售退货单
     4. 系统删除所保留的草稿销售退货单信息并显示删除成功

- **扩展流程**：

  1. **制定销售退货单**

     10a.确认提交销售退货单时发现有信息未填写

     1. 系统返回编辑界面并提示销售人员填写完所有待填写的信息

     10b. 确认信息前退出编辑

     1. 系统保存已编辑单据并将其设置为草稿状态

     10c. 确认提交进货单时发现信息填写有误，具体包括商品价格小于等于0，商品数量不为整数

     1. 系统提示相应的信息填写错误问题并返回正常流程7

  2. **修改草稿销售退货单**

     6a. 销售人员未做任何修改直接确认提交

     1. 系统提示销售人员销售退货单未作修改 

     6b. 销售人员未提交直接退出编辑界面

     1. 系统询问销售人员是否保存已修改信息

     2. 销售人员确认保存

        2a. 销售人员取消保存修改信息

        1. 系统将草稿销售退货单保存为初始状态

     3. 系统保存销售人员修改信息

- **特殊需求**：

  1. 单据编号格式为`XSTHD-yyyyMMdd-xxxxx`。

---

### 用例11  银行账户管理

- **ID**：11

- **名称**： 银行账户管理

- **创建者**：邱浩旻

- **创建日期**：2017-9-10

- **最后一次更新者**：邱浩旻

- **最后更新日期**：2017-9-30

- **参与者**：财务人员，目的是快速准确地管理银行账户。

- **触发条件**：需要增加银行账户、删除银行账户、修改银行账户属性或查询银行账户。

- **前置条件**：财务人员已经被识别，并授予最高权限。

- **后置条件**：保存账户更改或退出查询。

- **优先级**：高

- **正常流程**：

  1. **增加银行账户**
     1. 财务人员输入`完整银行卡号` 和`账户名称`。
     2. 系统记录新`账户名称`和`期初余额` 。
  2. **查询银行账户**
     1. 系统按账户名称排序显示各个账户的`账户名称`，`银行卡号` 和`账户余额`。
     2. 财务人员输入`部分连续银行卡号`或`账户名称`搜索。
     3. 系统显示匹配的账户的`账户列表` 列表的每一条包括`账户名称`，`银行卡号` 。
     4. 财务人员选中目标账户。
     5. 系统显示该账户的`账户名称`，`银行卡号` 和 `账户余额`。
  3. **删除银行账户**
     1. 财务人员选中目标账户，执行删除操作，并点击确认。
     2. 系统删除该账户，但不会删除该账户的期初信息。
  4. **修改银行账户属性**
     1. 财务人员选中目标账户，执行修改`账户属性`操作（不能修改银行卡号和余额），修改完毕点击确认。
     2. 系统更新账户属性。

- **扩展流程**：

  1. **增加银行账户**
     1a. 重复银行卡号或重复账户名称，或负数余额

     1. 系统提示重复，或余额异常并拒绝输入

     1b. 财务人员取消增加银行账户

     1. 系统取消成功

  2. **查询银行账户**

     2a. 财务人员发现目标账户

     1. 财务人员选中目标账户
     2. 系统显示该账户的`账户名称`，`银行卡号`，  `账户余额`和`其他账户属性` 。

     3a. 系统未找到结果

     1. 系统提示未找到结果

- **特殊需求**：无

------

### 用例12  制定收款付款单

- **ID**：12

- **名称**： 制定收款付款单

- **创建者**：邱浩旻

- **创建日期**：2017-9-10

- **最后一次更新者**：邱浩旻

- **最后更新日期**：2017-9-29

- **参与者**：财务人员，目的是清算与客户之间的账目

- **触发条件**：客户已经注册；客户发起付款，客户发起收款或公司向客户发起付款；提交的收款付款单审批不通过

- **前置条件**：财务人员已经被识别和授权

- **后置条件**：收付款单据等待审批，审批之后入账；更新收款付款单草稿箱

- **优先级**：高

- **正常流程**：

  1. **新建收款付款单草稿**
     1. 财务人员执行新建收款单操作，或者新建付款单操作。
     2. 系统自动生成`单据编号` ，自动填写`当前操作员` ，并保存`草稿`。
     3. 财务人员选择`客户（供应商）` 或`客户（销售商）` ，并填写`转账列表` 。`转账列表`中的每一条包含：收钱付钱的`银行账户`，`转账金额`，`备注`。填写完毕点击提交。
     4. 系统自动计算总额，`提交`新表，提示提交成功。
  2. **修改收款付款单草稿**
     1. 财务人员选择草稿箱中的一条草稿，执行编辑操作。
     2. 系统展示草稿内容。
     3. 财务人员修改不通过的收款单，或付款单，填写完毕点击提交。
     4. 系统自动计算总额，`提交`新表，提示提交成功。
  3. **删除收款付款单草稿**
     1. 财务人员选择草稿箱中的一条草稿，执行删除操作。
     2. 系统删除该草稿，提示删除成功。

- **扩展流程**：

  1. **新建收款付款单草稿**

     3a. 中途退出编辑

     1. 系统保存草稿，提示草稿已保存。

     4a. 制定付款单账户余额不足

     1. 系统提示账户余额不足，提交表单失败。

  2. **修改收款付款单草稿**

     3a. 中途退出编辑

     1. 系统保存草稿，提示草稿已保存。

     4a. 制定付款单账户余额不足

     1. 系统提示账户余额不足，提交表单失败。

- **特殊需求**：

  1. 收款单单据编号格式 `SKD-yyyyMMdd-xxxxx`
  2. 付款单单据编号格式 `FKD-yyyyMMdd-xxxxx`

------

### 用例13  制定现金费用单

- **ID**：13

- **名称**： 制定现金费用单

- **创建者**：邱浩旻

- **创建日期**：2017-9-10

- **最后一次更新者**：邱浩旻

- **最后更新日期**：2017-9-29

- **参与者**：财务人员，目的是处理公司的现金消费事宜。

- **触发条件**：管理报销等现金操作；提交的现金费用单审批不通过

- **前置条件**：财务人员已经被识别和授权

- **后置条件**：现金费用单据等待审批，审批之后入账；更新现金费用单草稿箱

- **优先级**：高

- **正常流程**：

  1. **新建现金费用单草稿**
     1. 财务人员执行新建现金费用单操作。
     2. 系统自动生成`单据编号` ，自动填写`当前操作员` ，并保存`草稿`。
     3. 财务人员选择付钱的`银行账户`，并填写`条目清单`。`条目清单`中的每一条包含：付钱的`条目名`，`金额`，`备注`。填写完毕点击提交。
     4. 系统自动计算总额，`提交`新表，提示提交成功。
  2. **修改现金费用单草稿**
     1. 财务人员选择草稿箱中的一条草稿，执行编辑操作。
     2. 系统展示草稿内容。
     3. 财务人员修改不通过的现金费用单，填写完毕点击提交。
     4. 系统自动计算总额，`提交`新表，提示提交成功。
  3. **删除现金费用单草稿**
     1. 财务人员选择草稿箱中的一条草稿，执行删除操作。
     2. 系统删除该草稿，提示删除成功。

- **扩展流程**：

  1. **新建现金费用单草稿**

     3a. 中途退出编辑

     1. 系统保存草稿，提示草稿已保存。

     4a. 账户余额不足

     1. 系统提示账户余额不足，提交表单失败。

  2. **修改现金费用单草稿**

     3a. 中途退出编辑

     1. 系统保存草稿，提示草稿已保存。

     4a. 账户余额不足

     1. 系统提示账户余额不足，提交表单失败。

- **特殊需求**：

  1. 现金费用单单据编号格式 `XJFYD-yyyyMMdd-xxxxx`

------

### 用例14  查看、导出销售明细

- **ID**：14
- **名称**： 查看销售明细
- **创建者**：邱浩旻
- **创建日期**：2017-9-10
- **最后一次更新者**：邱浩旻
- **最后更新日期**：2017-9-30
- **参与者**：财务人员，总经理，目的是了解公司销售状况。
- **触发条件**：财务人员和总经理查看公司销售明细。
- **前置条件**：财务人员或总经理已经被识别或授权
- **后置条件**：更新单据列表。
- **优先级**：高
- **正常流程**：
  1. 系统自动展示`时间区间近15天`的`商品销售记录列表`，列表的每一条包含时间（精确到天），`商品名`，`型号`，`数量`，`单价`，`总额` 。
  2. 财务人员或总经理选择不同`时间区间`，`商品名`，`客户`，`业务员`，`仓库` 的一种或几种作为筛选条件。
  3. 系统展示符合要求的`商品销售记录列表`。
  4. 财务人员或总经理执行导出销售明细表操作。
  5. 系统导出`所展示的商品销售明细表`。

- **扩展流程**：无

- **特殊需求**：无

------

### 用例15  查看、导出经营历程与红冲

- **ID**：15

- **名称**： 查看经营历程

- **创建者**：邱浩旻

- **创建日期**：2017-9-10

- **最后一次更新者**：邱浩旻

- **最后更新日期**：2017-9-30

- **参与者**：财务人员，总经理，目的是了解公司的经营历程。

- **触发条件**：财务人员和总经理查看公司经营历程。

- **前置条件**：财务人员或总经理已经被识别或授权

- **后置条件**：更新单据列表，导出表格（可选）

- **优先级**：高

- **正常流程**：

  1. 系统自动展示`时间区间近7天`，`单据类型`为`销售类`的单据列表。（单据类型即`销售类`，`进货类`，`财务类`和`库存类`）
  2. 财务人员或总经理先选择不同的`单据类型`，再选择`时间区间`，`客户`，`业务员`，`仓库` 的一种或几种作为筛选条件。
  3. 系统展示符合要求的`单据列表`。
  4. 财务人员或总经理执行导出销售明细表操作。
  5. 系统导出`所展示的单据列表` 。

- **扩展流程**：

  2-4a. 财务人员有需要`红冲`的账目（总经理无法执行），财务人员选择经营历程表的单据列表中的一项，系统展示单据所有信息

  1. 财务人员选择红冲
     1. 系统生成与选中项一模一样，但仅仅把`数量`取负数的单子，并入账。
  2. 财务人员选择红冲并复制
     1. 系统生成与选中项一模一样，但仅仅把数量取负数的单据A和一张与选中单据一模一样的单据B，但不入账。
     2. 财务人员编辑B并确认后，单据A和单据B都入账。

- **特殊需求**：无

------

### 用例16  查看、导出经营情况

- **ID**：16
- **名称**：查看经营情况
- **创建者**：邱浩旻
- **创建日期**：2017-9-10
- **最后一次更新者**：邱浩旻
- **最后更新日期**：2017-9-30
- **参与者**：财务人员，总经理，目的是了解经营状况。
- **触发条件**：财务人员和总经理查看公司经营情况
- **前置条件**：财务人员或总经理已经被识别或授权
- **后置条件**：更新单据列表，导出表格（可选）
- **优先级**：高
- **正常流程**：
  1. 系统自动展示`时间区间近7天`、`收支类型`为`利润类`的`经营情况表` 。（收支类型即`收入类`，`支出类`，`利润类`）
     - 收入类列表包含`销售收入` 、`折让后总收入`、`折让总额`和 `商品类收入` （ `商品报溢收入`、` 进货退货差价`和 `代金券与实际收款差额收入` ） 。
     - 支出类列表包含`销售成本`、`总支出`和 `商品类支出`（`商品报损`、`商品赠出`）。
     - 利润类列表：`折让后总收入` - `总支出`= `总利润` 。
  2. 财务人员或总经理先选择不同的`收支类型`，再选择`时间区间`作为筛选条件。
  3. 系统展示符合要求的`经营情况表`。
  4. 财务人员或总经理执行导出经营情况表操作。
  5. 系统导出`所展示的经营情况表`。

- **扩展流程**：无

- **特殊需求**：无

---

### 用例17  期初建账

- **ID**：17

- **名称**： 期初建账

- **创建者**：杨郁芩

- **创建日期**：2017.9.10

- **最后一次更新者**：邱浩旻

- **最后更新日期**：2017.10.26

- **参与者**：财务人员。目标是在新的财年初始化每套新账。

- **触发条件**：新的财年开始，财务人员建立新账。

- **前置条件**：财务人员必须已经被识别和授权。

- **后置条件**：单独进行存储，同时将此信息作为系统的启动初始状态。

- **优先级**：高

- **正常流程**：

  1. 财务人员请求发起期初建账
  2. 系统显示，并默认选中上一财年末的所有商品分类和商品。
  3. 财务人员取消选中这一财年不需要的商品分类或商品，并点击下一步。
  4. 系统显示，并默认选中上一财年末的所有客户。
  5. 财务人员取消选中这一财年不需要的客户，并点击下一步。
  6. 系统显示，并默认选中上一财年末的所有银行账户。
  7. 财务人员取消选中这一财年不需要的银行账户，并点击完成。
  8. 系统根据以上选中的商品分类及商品、客户和银行账户自动生成期初信息，提示期初建账成功。
  9. 财务人员请求查看期初信息，并选择年份及查看类型（商品、客户、银行账户）。
  10. 系统显示相应的期初信息列表。

- **扩展流程**：

  无

- **特殊需求**：

  1. 期初信息不会被之后的操作改变
  2. 期初信息随时可查

---

### 用例18  审批单据

- **ID**：18

- **名称**： 审批单据

- **创建者**：杨郁芩

- **创建日期**：2017.9.10

- **最后一次更新者**：杨郁芩

- **最后更新日期**：2017.10.27

- **参与者**：总经理。目的是管理公司日常工作。

- **触发条件**：无

- **前置条件**：总经理必须已经被识别和授权。有单据进入提交状态。

- **后置条件**：审批后的单据变为已审批状态或驳回后的草稿状态，向单据提交人员发送通知。

- **优先级**：高

- **正常流程**：

  1. 总经理刷新单据列表。

  2. 系统显示所有单据。

  3. 总经理选择一张单据进行审批。

  4. 系统显示完整单据。

  5. 总经理确定审批结果，审批结果包括通过和不通过。

  6. 系统显示审批结果，并更新提交状态单据列表。

    总经理重复3～6步，直至完成所有单据的审批。

- **扩展流程**：

  3a. 总经理选择多张单据进行批量审批：

  1. 总经理选中多张单据。
  2. 系统显示选中单据。
  3. 总经理确定审批结果。
  4. 系统提示审批完成。

  5a. 总经理修改销售单据中的折让金额数据：

  1. 系统提示修改成功。

     5aa. 总经理输入的折让金额数据小于零：

     1. 系统提示金额不能为负并提示重新输入。

     5ab. 总经理在修改后未进行保存便退出界面：

     1. 系统提示用户修改未保存，并询问用户选择是否保存：

        5aba. 总经理选择保存修改

        1. 系统提示保存成功

        5abb. 总经理选择不保存修改

        1. 系统返回原单据界面

- **特殊需求**：

  无

---

### 用例19  制定促销策略

- **ID**：19

- **名称**： 制定促销策略

- **创建者**：杨郁芩

- **创建日期**：2017.9.11

- **最后一次更新者**：杨郁芩

- **最后更新日期**：2017.10.27

- **参与者**：总经理。目标是根据市场状况制定不同的促销策略。

- **触发条件**：节假日或者竞争促销；提前处理有可能会报废的商品；回馈消费者吸引回头客；去除现有的销售策略。

- **前置条件**：总经理必须已经被识别和授权。

- **后置条件**：系统保存策略，并更新策略列表。

- **优先级**：高

- **正常流程**：

  1. **新增客户回馈促销**  

     1. 总经理选择客户级别。

     2. 系统显示已选级别。

     3. 总经理输入客户回馈促销策略的`开始日期`、`结束日期`。

     4. 总经理添加为客户定制的优惠，包括`赠送礼品`、`价格折让`、`赠送代金券`。

        4.1. 总经理添加**赠送礼品**优惠：

        1. 总经理请求输入赠送商品。
        2. 系统显示商品层次列表。
        3. 总经理选择商品并确认。
        4. 系统显示已选商品。
        5. 总经理输入`赠送数量`。
        6. 系统显示赠送商品信息列表。

        总经理重复3.1.1～3.1.6步，直至输入所有赠送商品。

        4.2. 总经理添加**价格折让**优惠：

        1. 总经理输入`折让金额`。
        2. 系统显示折让信息列表。

        4.3. 总经理添加**赠送代金券**优惠：

        1. 总经理输入赠送代金券的`金额`、`数量`、`有效起始日期`和`有效结束日期`。
        2. 系统显示赠券信息列表。

        总经理重复第4.3.1～4.3.2步，直至输入所有赠券信息。

     5. 系统显示选定日期。

     6. 总经理确认策略制定完成。

     7. 系统提示制定完成，并更新策略列表。

     总经理重复1～7步，直至完成所有客户回馈策略的制定。

  2. **新增组合降价促销**

     1. 总经理在商品列表中选择将要组合销售的商品。

     2. 系统显示选定商品。

     3. 总经理输入组合数量。

     4. 系统显示对应商品和数量

        重复1～4步，直至输入所有组合商品信息。

     5. 总经理输入`组合包名称`、`促销价格`、`促销开始日期`和`结束日期`。

     6. 系统显示组合促销信息。

     7. 总经理确认策略制定完成。

     8. 系统提示制定完成，并更新策略列表，更新组合包中各个商品的最近售价。

     总经理重复1～7步，直至完成所有组合促销策略的制定。

  3. **新增总额赠送促销**

     1. 总经理输入`总额额度`。

     2. 系统显示输入的额度。

     3. 总经理输入总额赠送促销策略的`开始日期`、`结束日期`。

     4. 总经理选择添加赠送方案，包括`赠送礼品`和`赠送代金券`。

        3.1. 总经理添加**赠送礼品**优惠：

        1. 总经理请求输入赠送商品。
        2. 系统显示商品列表。
        3. 总经理选择商品。
        4. 系统显示已选商品。
        5. 总经理输入`赠送数量`。
        6. 系统显示赠品信息列表。

        总经理重复3.1.2～3.1.6步，直至输入所有商品赠送信息。

        3.2. 总经理添加**赠送代金券**优惠：

        1. 总经理输入赠送代金券的`金额`、`数量`、`有效起始日期`和`有效结束日期`。
        2. 系统显示赠券信息列表。

        总经理重复3.2.1～3.2.2步，直至输入所有赠券信息。

     5. 系统显示选定日期。

     6. 总经理确认策略制定完成。

     7. 系统提示制定完成，并更新策略列表。

       总经理重复1～7步，直至完成所有总额赠送策略的制定。

  4. 系统显示所有策略列表。

  总经理重复1～4步，直至完成所有策略的制定。


- **扩展流程**：

  1. **客户回馈促销**：

     3a. 总经理输入的开始日期晚于当天日期+30天，或结束日期晚于开始日期+30天，或开始日期／结束日期晚于当天日期：

     1. 系统提示开始日期必须在当天日期后一个月内，并且持续时间不能超过一个月，并提示重新输入。

     4.1.5a. 总经理输入的赠品数量小于零（或不为整数）：

     1. 系统提示数量不能为负（或数量必须为整数）并提示重新输入。

     4.2.1a. 总经理输入的折让金额小于零：

     1. 系统提示折让金额不能为负并提示重新输入。

     4.3.1a. 总经理输入的赠券金额小于零（或不为整数）：

     1. 系统提示赠券金额不能为负（或赠券金额必须为整数）并提示重新输入。

     4.3.1a. 总经理输入的有效起始日期早于促销开始日期，或结束日期早于有效起始日期：

     1. 系统提示有效起始时间必须晚于促销开始日期，并且结束日期不能早于起始日期，并提示重新输入。

     7a. 总经理要移除已确定的客户回馈策略：

     1. 总经理选择要删除的客户级别的促销策略并点击删除。
     2. 系统提示删除成功，并更新策略列表。

  2. **组合商品促销**：

     3a. 总经理输入的商品数量小于零（或不为整数）：

     1. 系统提示数量不能为负（或数量必须为整数）并提示重新输入。

     5a. 总经理输入的促销包名称已经存在：

     1. 系统提示促销包已存在重复并提示重新输入。

     5b. 总经理输入的促销价格小于零：

     1. 系统提示促销价格不能为负并提示重新输入。

     5c. 总经理输入的开始日期晚于当天日期+30天，或结束日期晚于开始日期+30天，或开始日期／结束日期晚于当天日期：

     1. 系统提示开始日期必须在当天日期后一个月内，并且持续时间不能超过一个月，并提示重新输入。

     8a. 总经理要移除已输入的组合商品促销信息：

     1. 系统提示删除成功，并更新策略列表。

  3. **总额回馈促销**：

     1a. 总经理输入的总额额度小于零：

     1. 系统提示数量不能为负并提示重新输入。

     3a. 总经理输入的开始日期晚于当天日期+30天，或结束日期晚于开始日期+30天，或开始日期／结束日期晚于当天日期：

     1. 系统提示开始日期必须在当天日期后一个月内，并且持续时间不能超过一个月，并提示重新输入。

     4.1.5a. 总经理输入的赠品数量小于零（或不为整数）：

     1. 系统提示数量不能为负（或数量必须为整数）并提示重新输入。

     4.2.1a. 总经理输入的赠券金额小于零（或不为整数）：

     1. 系统提示赠券金额不能为负（或赠券金额必须为整数）并提示重新输入。

     4.2.2b. 总经理输入的有效起始日期早于促销开始日期，或结束日期早于有效起始日期：

     1. 系统提示有效起始时间必须晚于促销开始日期，并且结束日期不能早于起始日期，并提示重新输入。

     7a. 总经理要移除已确定的总额赠送信息：

     1. 系统提示删除成功，并更新策略列表。


- **特殊需求**：

  1. 所有促销策略都可叠加，不会发生冲突。

---

### 用例20  管理系统账户

- **ID**：20

- **名称**： 管理系统账户

- **创建者**：杨郁芩

- **创建日期**：2017.9.18

- **最后一次更新者**：杨郁芩

- **最后更新日期**：2017.10.28

- **参与者**：管理员，目的是管理系统账户的信息和权限。

- **触发条件**：发生人事变动。

- **前置条件**：管理员必须已被识别和授权。

- **后置条件**：更新账户列表。

- **优先级**：高

- **正常流程**：
  1. **查看账户信息**：
     1. 管理员输入工号进行查询。
     2. 系统显示查询结果。
     3. 管理员选择账户进行查看。
     4. 系统显示完整账户信息。
  2. **新增账户**：
     1. 管理员选择新增账户的权限。
     2. 系统显示选定权限。
     3. 管理员请求增加账户。
     4. 系统自动生成工号并显示新增账户的完整信息。
     5. 管理员选择新增账户是否为最高权限。
     6. 系统显示选择。
     7. 管理员确认生成账户。
     8. 系统提示新增成功并在账户列表中显示新账户。
  3. **修改账户权限信息**：
     1. 管理员选择需要修改权限的账户。
     2. 系统显示账户信息。
     3. 管理员请求修改权限。
     4. 系统显示编辑界面。
     5. 管理员修改权限并确认保存保存。
     6. 系统显示修改成功。
  4. **删除账户**：
     1. 管理员选择删除账户。
     2. 系统询问是否确认删除。
     3. 管理员确认删除。
     4. 系统提示删除成功并在账户列表中删除该账户。

- **扩展流程**：

  1. **查看账户信息**：

     1a. 管理员输入的工号不存在：

     1. 系统提示工号不存在并提示重新输入。

  2. **新增账户**：

     7a. 管理员未确认新增便退出当前界面：

     1. 系统提示新增操作未确认，并询问是否确认：

        1a. 管理员选择确认：

        1. 系统确认新增账户，并更新账户列表。

        1b. 管理员选择不确认：

        1. 系统直接退出当前界面，不进行账户的新增。

  3. **修改账户权限信息**：

     5a. 管理员未作修改便确认：

     1. 系统提示未作修改，并询问是否确认：

        1a. 管理员选择确认：

        1. 系统退出修改界面。

        1b. 管理员选择不确认：

        1. 系统停留在当前界面，继续等待编辑。

     5a. 管理员未保存修改便退出当前界面：

     1. 系统提示未保存，并询问是否保存：

        1a. 管理员选择保存：

        1. 系统保存修改，并更新账户信息。

        1b. 管理员选择不保存：

        1. 系统直接退出当前界面，不进行账户信息的修改。


- **特殊需求**：
  1. 管理员的登陆账号为admin，初始密码为admin，只有管理员能进行系统账户的管理。

  2. 账户有7种权限，分别是：库存管理权限，进货人员权限，销售人员权限，销售经理权限，财务管理权限，总经理权限，最高权限。
